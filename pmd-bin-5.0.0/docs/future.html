<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at May 1, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
    Future directions for PMD</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Tom Copeland" />
      <meta name="author" content="Ryan Gustavson" />
      <meta name="author" content="Romain Pelisse" />
    <meta name="Date-Revision-yyyymmdd" content="20120501" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://sourceforge.net/" id="bannerLeft">
                                                <img src="images/sflogo.png" alt="SourceForge" />
                </a>
                                            <a href="./" id="bannerRight">
                                                <img src="images/pmd_logo_small.jpg" alt="pmd-logo" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-05-01</span>
                  &nbsp;| <span id="projectVersion">Version: 5.0.0</span>
                          |                           <a href="http://www.sourceforge.net/" class="externalLink" title="SourceForge">SourceForge</a>
        &gt;
                          <a href="./" title="PMD">PMD</a>
        &gt;
    
    Future directions for PMD
              </div>
            <div class="xright">                    <a href="http://sourceforge.net/projects/pmd" class="externalLink" title="SourceForge.net Project Page">SourceForge.net Project Page</a>
            |
                        <a href="http://sourceforge.net" class="externalLink" title="Hosted by SourceForge">Hosted by SourceForge</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="http://sourceforge.net/projects/pmd/files/pmd/5.0.0/pmd-bin-5.0.0.zip/download" class="externalLink" title="Download PMD 5.0.0">Download PMD 5.0.0</a>
            </li>
                  <li class="none">
                          <a href="https://sourceforge.net/projects/pmd/files/pmd/5.0.0/" class="externalLink" title="What's new in PMD 5.0.0">What's new in PMD 5.0.0</a>
            </li>
                  <li class="none">
                          <a href="news.html" title="PMD in the news">PMD in the news</a>
            </li>
                  <li class="none">
                          <a href="products.html" title="PMD-related products and books">PMD-related products and books</a>
            </li>
                  <li class="none">
                          <a href="bestpractices.html" title="Best practices">Best practices</a>
            </li>
                  <li class="none">
            <strong>Future directions</strong>
          </li>
                  <li class="none">
                          <a href="similar-projects.html" title="Similar projects">Similar projects</a>
            </li>
                  <li class="none">
                          <a href="credits.html" title="Credits">Credits</a>
            </li>
                  <li class="none">
                          <a href="license.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="meaning.html" title="What does 'PMD' mean?">What does 'PMD' mean?</a>
            </li>
          </ul>
                       <h5>Usage</h5>
                  <ul>
                  <li class="none">
                          <a href="installing.html" title="Installation">Installation</a>
            </li>
                  <li class="none">
                          <a href="running.html" title="Command line usage">Command line usage</a>
            </li>
                  <li class="none">
                          <a href="ant-task.html" title="Ant task usage">Ant task usage</a>
            </li>
                  <li class="none">
                          <a href="maven-plugin.html" title="Maven plugin usage">Maven plugin usage</a>
            </li>
                  <li class="none">
                          <a href="mvn-plugin.html" title="Mvn plugin usage">Mvn plugin usage</a>
            </li>
                  <li class="none">
                          <a href="integrations.html" title="IDE plugin usage">IDE plugin usage</a>
            </li>
                  <li class="none">
                          <a href="suppressing.html" title="Suppressing warnings">Suppressing warnings</a>
            </li>
                  <li class="none">
                          <a href="cpd.html" title="Finding duplicated code">Finding duplicated code</a>
            </li>
                  <li class="none">
                          <a href="jspsupport.html" title="JSP support">JSP support</a>
            </li>
          </ul>
                       <h5>Customizing PMD</h5>
                  <ul>
                  <li class="none">
                          <a href="compiling.html" title="Compiling PMD">Compiling PMD</a>
            </li>
                  <li class="none">
                          <a href="howtowritearule.html" title="How to write a rule">How to write a rule</a>
            </li>
                  <li class="none">
                          <a href="xpathruletutorial.html" title="Writing XPath rules">Writing XPath rules</a>
            </li>
                  <li class="none">
                          <a href="howtomakearuleset.html" title="How to make a rule set">How to make a rule set</a>
            </li>
                  <li class="none">
                          <a href="howitworks.html" title="How it works">How it works</a>
            </li>
                  <li class="none">
                          <a href="rule-guidelines.html" title="Rule guidelines">Rule guidelines</a>
            </li>
                  <li class="none">
                          <a href="pmd-developer.html" title="PMD developers information">PMD developers information</a>
            </li>
                  <li class="none">
                          <a href="pmd-release-process.html" title="PMD Release Process">PMD Release Process</a>
            </li>
          </ul>
                       <h5>For example</h5>
                  <ul>
                  <li class="none">
                          <a href="scoreboard.html" title="Run PMD on a Sourceforge project">Run PMD on a Sourceforge project</a>
            </li>
          </ul>
                       <h5>Rule Sets</h5>
                  <ul>
                                                                                <li class="expanded">
                          <a href="rules/index.html" title="jsp">jsp</a>
                    <ul>
                      <li class="none">
                          <a href="rules/jsp/basic-jsf.html" title="Basic JSF">Basic JSF</a>
            </li>
                      <li class="none">
                          <a href="rules/jsp/basic.html" title="Basic JSP">Basic JSP</a>
            </li>
              </ul>
        </li>
                                                              <li class="expanded">
                          <a href="rules/index.html" title="xsl">xsl</a>
                    <ul>
                      <li class="none">
                          <a href="rules/xsl/xpath.html" title="XPath in XSL">XPath in XSL</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <li class="expanded">
                          <a href="rules/index.html" title="java">java</a>
                    <ul>
                      <li class="none">
                          <a href="rules/java/design.html" title="Design">Design</a>
            </li>
                      <li class="none">
                          <a href="rules/java/coupling.html" title="Coupling">Coupling</a>
            </li>
                      <li class="none">
                          <a href="rules/java/logging-jakarta-commons.html" title="Jakarta Commons Logging">Jakarta Commons Logging</a>
            </li>
                      <li class="none">
                          <a href="rules/java/basic.html" title="Basic">Basic</a>
            </li>
                      <li class="none">
                          <a href="rules/java/strictexception.html" title="Strict Exceptions">Strict Exceptions</a>
            </li>
                      <li class="none">
                          <a href="rules/java/sunsecure.html" title="Security Code Guidelines">Security Code Guidelines</a>
            </li>
                      <li class="none">
                          <a href="rules/java/logging-java.html" title="Java Logging">Java Logging</a>
            </li>
                      <li class="none">
                          <a href="rules/java/android.html" title="Android">Android</a>
            </li>
                      <li class="none">
                          <a href="rules/java/controversial.html" title="Controversial">Controversial</a>
            </li>
                      <li class="none">
                          <a href="rules/java/comments.html" title="Comments">Comments</a>
            </li>
                      <li class="none">
                          <a href="rules/java/typeresolution.html" title="Type Resolution">Type Resolution</a>
            </li>
                      <li class="none">
                          <a href="rules/java/empty.html" title="Empty Code">Empty Code</a>
            </li>
                      <li class="none">
                          <a href="rules/java/strings.html" title="String and StringBuffer">String and StringBuffer</a>
            </li>
                      <li class="none">
                          <a href="rules/java/codesize.html" title="Code Size">Code Size</a>
            </li>
                      <li class="none">
                          <a href="rules/java/braces.html" title="Braces">Braces</a>
            </li>
                      <li class="none">
                          <a href="rules/java/unusedcode.html" title="Unused Code">Unused Code</a>
            </li>
                      <li class="none">
                          <a href="rules/java/unnecessary.html" title="Unnecessary">Unnecessary</a>
            </li>
                      <li class="none">
                          <a href="rules/java/j2ee.html" title="J2EE">J2EE</a>
            </li>
                      <li class="none">
                          <a href="rules/java/javabeans.html" title="JavaBeans">JavaBeans</a>
            </li>
                      <li class="none">
                          <a href="rules/java/migrating.html" title="Migration">Migration</a>
            </li>
                      <li class="none">
                          <a href="rules/java/imports.html" title="Import Statements">Import Statements</a>
            </li>
                      <li class="none">
                          <a href="rules/java/junit.html" title="JUnit">JUnit</a>
            </li>
                      <li class="none">
                          <a href="rules/java/naming.html" title="Naming">Naming</a>
            </li>
                      <li class="none">
                          <a href="rules/java/finalizers.html" title="Finalizer">Finalizer</a>
            </li>
                      <li class="none">
                          <a href="rules/java/optimizations.html" title="Optimization">Optimization</a>
            </li>
                      <li class="none">
                          <a href="rules/java/clone.html" title="Clone Implementation">Clone Implementation</a>
            </li>
              </ul>
        </li>
                                                                                                  <li class="expanded">
                          <a href="rules/index.html" title="ecmascript">ecmascript</a>
                    <ul>
                      <li class="none">
                          <a href="rules/ecmascript/basic.html" title="Basic Ecmascript">Basic Ecmascript</a>
            </li>
                      <li class="none">
                          <a href="rules/ecmascript/unnecessary.html" title="Unnecessary">Unnecessary</a>
            </li>
                      <li class="none">
                          <a href="rules/ecmascript/braces.html" title="Braces">Braces</a>
            </li>
              </ul>
        </li>
                                                              <li class="expanded">
                          <a href="rules/index.html" title="xml">xml</a>
                    <ul>
                      <li class="none">
                          <a href="rules/xml/basic.html" title="Basic XML">Basic XML</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
      <div class="section"><h2>Future Directions<a name="Future_Directions"></a></h2>
      <p>Want to know what's coming ? Or, better, wanna contribute ? Here is the page listing what are our plans - when we have ones,
          for the future of PMD. It also give you hints at part of the code we would like to clean - that you may want to clean to
          contribute to the project !</p>
      <p>Of course, an easy way to contribute is too check out the <a class="externalLink" href="https://sourceforge.net/tracker/?group_id=56262&amp;atid=479921">
         bug tracker</a> and see if you can fix some issues - some could be quite easy, we simply have not the time to look at them all !</p>
      <p>At last, if you want to contribute, register on the <a class="externalLink" href="https://sourceforge.net/mailarchive/forum.php?forum_name=pmd-devel">pmd-devel</a>
          mailing list, and come discuss with us !</p>
  	<div class="section"><h3>Roadmap<a name="Roadmap"></a></h3>
        <p>This roadmap contains all the different 'workshops' PMD's developers are working right now.
        	</p><ul>
        		<li><b>Better symbol analysis</b>: See below.</li>
        		<li><b>Data Flow Analysis</b>: See below.</li>
        		<li><b>Code Cleanups</b>: See below.</li>
        	</ul>
        <i>Please note that, of course, there is no warranty about when those 'features' will be finished, if they ever are.</i>
      </div>
      <div class="section"><h3>Better symbol analysis<a name="Better_symbol_analysis"></a></h3>
        <p>Currently PMD only looks at one source file at a time.  Instead, it
        should resolve symbols across classes.  This will eliminate some open
        bugs and enable a lot more rules to be written.  However, it'll taken some doing,
        because it'll require parsing of class files.  Lots of work here.</p>
      </div>

         <div class="section"><h3>Data flow analysis (DFA)<a name="Data_flow_analysis_DFA"></a></h3>
             <p>Raik Schroeder, a graduate student at
                 <a class="externalLink" href="http://www.fh-stralsund.de/">Fachhochschule Stralsund</a>,
    has written a DFA layer that should enable us to write some more complicated rules - stuff like
    common subexpression elimination, loop invariant code motion (and code hoisting suggestions), shrink wrapping, and partial redundancy elimination.
   The code is currently in CVS in the net.sourceforge.pmd.dfa packages, and we're going through
    it now figuring out what rules we can write that use it.  We should be able to
             use it to simplify some current rules, as well. </p>
         </div>
      <div class="section"><h3>Other changes we'll like to see...<a name="Other_changes_well_like_to_see..."></a></h3>
<p><b>These are things which really should be done, but just haven't been gotten to yet:</b></p>
<ul>
<li>Enhance Rule Designer to allow testing of the violation suppress Regex and XPath.</li>
<li>Remove the type resolution specific rules.  Merge these back into the
  standard rules.  In general, a Rule should use TR when it can, and fall
  back on non-TR approach otherwise.  No need for separate Rules for TR/non-TR.</li>
<li>Reconcile the util.designer and util.viewer packages.  Two versions of the
    same thing.  Designer is more up to date, but Viewer has a nice MVC design.</li>
<li>Need a JUnit test to check for &quot;dead&quot; Rules, that is those not used by any RuleSet.</li>
<li>Rule JUnit tests should verify the Test class follows expected naming
    conventions just like the Rules need to.</li>
<li>Do we have a rule to style check for multiple declarations and chained
    assignments? (e.g. int a, b;  int a = b = x;)</li>
</ul>

<p><b>These are food for thought, perhaps future items.  If you think you'd like to
 work on one of these, check with pmd-devel to see what the current thoughts
 on the topic.</b></p>

<ul>
<li>CPD needs work on use of Language.  It currently is hardcoded to only
  handled Java 1.4.  Integrate CPD needs into core PMD where appropriate.
  Otherwise, drive CPD behavior based off of core PMD, instead of duplicating
  some logic.</li>

<li>Need a more flexible and powerful scheme for classifying files to various
  Languages.  At a minimum, should have the ability to specify which
  file extensions you want to be used for a language (e.g. not everyone uses
  .jsp for JSP extensions, some use .jspx, .xhtml, etc.).  Also, consider
  hooks into the LanguageVersionDiscoverer process for classifying a
  File/String to a LanguageVersion of a specific Language, one could imaging
  using a 'magic' system like Unix uses to tell different versions of files
  apart based on actual content.</li>

<li>Should we change Node interface to something like 'Node&lt;T extends Node&lt;T&gt;&gt;',
  and then declare the language specific node interfaces to be something like
  'JavaNode extends Node&lt;JavaNode&gt;'?  This could allow anything on the Node
  interface to return the language specific node type instead of generic
  node.  For example, ASTStatement.jjtGetParent() to return a JavaNode,
  instead of a Node.  This is a rather huge change, as the Node interface is
  one of the pervasive things in the PMD code base.  Is the extra work of using
  the Node interface with properly with generics, worth the omission of
  occasional some casting?</li>

<li>Should multiple Languages be able to claim a single source file?  Imagine
  XML format JSP file, for which you've defined a ruleset which uses JSP and
  XML rules.  Stating that certain XML rules also can map to the JSP language
  extensions could be useful.  This means Source file to LanguageVersion
  mapping is not 1-1, but 1-many, we'd need to deal with this accordingly.</li>

<li>Additional changes to Rule organization within RuleSets as discussed on
    <a class="externalLink" href="http://sourceforge.net/forum/forum.php?thread_id=1323593&amp;forum_id=188194">
        this forum thread</a>.</li>
<li>Figure out a way to allow Rules to deal with parentheses and blocks, which
  introduce certain repetitive (and generally ignorable for most Rules)
  structures into the AST tree.  Some rules are making special effort
  (e.g. ConfusingTernaryRule) to detect these AST patterns.  Perhaps a
  &quot;normalized&quot; AST structure can be created which will make the AST appear
  consistent regardless of how many parens are presented, or how many blocks
  have been created (e.g. default block inserted, duplicates collapsed).
  This should be configurable on per Rule basis similar to TR and SymbolTable.</li>
</ul>
      </div>
      <div class="section"><h3>Code cleanups<a name="Code_cleanups"></a></h3>
        <p>Some of the code is a bit sloppy:</p>
          <ul>
              <li>RuleSetFactory is a mess.  It needs to be refactored into something that has layers, or decorators, or something.</li>
              <li>Cleanups would be welcome for ConstructorCallsOverridableMethod and DoubleCheckedLocking</li>
              <li>The Designer GUI is a bit messed up; the bottom panes look funny.</li>
              <li>The grammar has some odd bits:</li>
              <ul>
                  <li>BlockStatement has an odd hack for class definitions inside methods</li>
                  <li>enumLookahead() seems like a bit of overkill, can it use Modifiers somehow?</li>
                  <li>The whole &quot;discardable node&quot; thing seems wasteful</li>
                  <li>Does ExtendsList need that 'extendsMoreThanOne' thing?</li>
                  <li>ClassOrInterfaceBodyDeclaration has a monstrous lookahead to check for enums</li>
                  <li>ClassOrInterfaceType gloms together dotted names... is that the right thing to do?</li>
                  <li>Some complicated annotations are currently broken</li>
              </ul>
          </ul>
      </div>
      </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2002-2012
                        <a href="http://pmd.sourceforge.net/">InfoEther</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
